@model IEnumerable<ArtFusionStudio.Models.Phone>
<link rel="stylesheet" href="~/css/Product.css" asp-append-version="true" />

@{
    ViewData["Title"] = "Телефони";
}

<div class="container mt-5">
    <div class="row">
        <div class="col-sm-6">
<h1>Телефони</h1>

<p>
    <a asp-action="Create">Добави нов телефон</a>
</p>
            
<form asp-action="Index" method="get">
<div class="form-actions no-color">
    <p>
        <input type="text" id="myInput" onkeyup="searchEngine()" placeholder="Търси телефон" title="Въведи №, име или характеристика">
        <a asp-action="Index">Върни се към пълния списък</a>
    </p>
</div>
</form>

<table class="table" id="myTable">
    <thead>
        <tr>
            <th>
                <a asp-action="Index" asp-route-sortOrder="@ViewData["IdSortParm"]">№</a>
            </th>
            <th>
                Марка
            </th>
            <th>
                Изображение
            </th>
            <th>
                <a asp-action="Index" asp-route-sortOrder="@ViewData["NameSortParm"]">Име</a>
            </th>

            <th>
                <a asp-action="Index" asp-route-sortOrder="@ViewData["PriceSortParm"]">Текуща цена</a>
            </th>
            <th>
                Наличност
            </th>
            <th>
                USB тип
            </th>
            <th>
                Памет
            </th>
            <th>
                RAM
            </th>
            <th>
                Екран
            </th>
            <th>
                 Брой камери
            </th>
            @* <th>
                ОС
            </th> *@
            <th>
                <a asp-action="Index" asp-route-sortOrder="@ViewData["RatingSortParm"]">Оценка</a>
            </th>
            <th>
                <a asp-action="Index" asp-route-sortOrder="@ViewData["TotalVotesSortParm"]">Резултат/<br />Оценки</a>
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Id)
                </td>
                <td>
                    <svg xmlns="http://www.w3.org/2000/svg" height="3vh" viewBox="0 0 24 24">
                        <path fill="#ffffff" d="@item.Brand.PathD"></path>
                    </svg> <br />
                    @Html.DisplayFor(modelItem => item.Brand.Name)
                </td>
                <td>
                    <img class="productimg smallimg" src="~/images/Products/Phones/@item.ProductURL" onerror="this.onerror=null; this.src='/images/Logo/afs-logo-phone.png'"/>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CurrentPrice)лв.
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Quantity)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.USBType.Type)
                </td>
                <td>
                    @Math.Round(item.StorageCapacity.CapacityGB)GB
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Memory.RAM)GB
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DisplayTechnology.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Camera.CameraCount)
                </td>
                @* <td>
                    @Html.DisplayFor(modelItem => item.OSNameAndVersion)
                </td> *@
                <td>
                    <i data-star="@item.Rating"></i> <br />
                    /@Html.DisplayFor(modelItem => item.Rating)/
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Score) / <br />
                    @Html.DisplayFor(modelItem => item.TotalVotes)
                </td>
                <td>

                    <a class="btn-edit" asp-action="Edit" asp-route-id="@item.Id"><i class="bi bi-pencil"></i></a>
                    <a class="btn-details" asp-action="Details" asp-route-id="@item.Id"><i class="bi bi-eye"></i></a>
                    <a class="btn-delete" asp-action="Delete" asp-route-id="@item.Id"><i class="bi bi-trash"></i></a>
                </td>
            </tr>
        }
    </tbody>
</table>
</div>
</div>
</div>